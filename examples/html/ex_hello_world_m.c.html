<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <title>c2html for: ex_hello_world_m.c</title>
    <link rel="stylesheet" type="text/css" href="f_c.css">
  </head>
  <body>
     <h1>ex_hello_world_m.c</h1>
<pre class="c2html">
<span class="comment">/* hello world - multiple sources of data (still no data copying) */</span>

#<span class="cppinclude">include</span> <span class="str">"ex_hello_world.h"</span> <span class="comment">/* helper functions */</span>

<span class="int">int</span> main(<span class="void">void</span>)
{
  <span class="vstrbase">Vstr_base</span> *s1 = hw_init();

  vstr_add_cstr_ptr(s1, s1-&gt;len, <span class="str">"Hello"</span>);
  vstr_add_cstr_ptr(s1, s1-&gt;len, <span class="str">" "</span>);
  vstr_add_cstr_ptr(s1, s1-&gt;len, <span class="str">"World\n"</span>);

  <span class="comment">/* we are checking whether any of the above three functions failed here */</span>
  <span class="if">if</span> (s1-&gt;conf-&gt;malloc_bad)
    <span class="errno">errno</span> = ENOMEM, <span class="err">err</span>(<span class="exitfail">EXIT_FAILURE</span>, <span class="str">"Add string data"</span>);

  <span class="comment">/* loop until all data is output... */</span>
  <span class="while">while</span> (io_put(s1, <span class="stdout">STDOUT_FILENO</span>) != IO_NONE) {}

  <span class="exit">exit</span> (hw_exit(s1));
}
</pre>
<!-- C to html convertion of ex_hello_world_m.c -->
<!--   done on Sun May  9 02:29:53 2004
 -->
<!--   done by ex_highlight -->

  </body>
</html>